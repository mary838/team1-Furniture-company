<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Navigation with Modals</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="p-4">
      <ul class="flex items-center space-x-6">
        <li>
          <a href="#" id="search-icon">
            <i
              class="fa-solid fa-magnifying-glass text-amber-900 hover:text-blue-900 transition-colors duration-300"
            ></i>
          </a>
        </li>
        <li>
          <a href="#" id="userIcon">
            <i
              class="fa-regular fa-user text-amber-900 hover:text-blue-900 transition-colors duration-300"
            ></i>
          </a>
        </li>
        <li>
          <a
            href="#"
            class="text-amber-900 hover:text-blue-900 transition-colors duration-300"
          >
            <i class="fa-solid fa-cart-shopping"></i>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Search Modal -->
    <div id="searchOverlay" class="fixed inset-0 z-50 hidden">
      <div
        class="absolute inset-0 bg-black transition-opacity duration-300 opacity-0"
        id="searchBackdrop"
      ></div>
      <div
        class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl px-4"
      >
        <div
          class="bg-white rounded-lg shadow-2xl p-6 relative transition-all duration-300 transform opacity-0 scale-95"
          id="searchContainer"
        >
          <button
            id="closeSearch"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100"
          >
            Ã—
          </button>
          <div class="relative">
            <input
              type="text"
              id="searchInput"
              class="w-full px-4 py-3 text-gray-700 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300"
              placeholder="Search..."
            />
          </div>
          <div
            id="searchSuggestions"
            class="hidden mt-4 bg-white rounded-lg shadow-lg max-h-64 overflow-y-auto"
          >
            <!-- Suggestions will be populated here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed inset-0 z-50 hidden">
      <div
        class="absolute inset-0 bg-black transition-opacity duration-300 opacity-0"
        id="authBackdrop"
      ></div>
      <div
        class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-sm transition-all duration-300 opacity-0 scale-95"
        id="authContainer"
      >
        <div class="bg-white p-4 rounded-lg shadow-xl w-full">
          <div class="text-center mb-4">
            <h1 class="text-[1.6rem] font-bold text-gray-800">Welcome Back</h1>
            <p class="text-[1rem] text-gray-500 mt-1">
              Please enter your details
            </p>
          </div>

          <div class="flex justify-center space-x-6 mb-4">
            <button
              id="loginBtn"
              class="text-base font-semibold text-blue-600 border-b-2 border-blue-600 pb-1 transition-all duration-300 hover:text-blue-800"
            >
              Login
            </button>
            <button
              id="signupBtn"
              class="text-base font-semibold text-gray-400 pb-1 transition-all duration-300 hover:text-gray-600"
            >
              Register
            </button>
          </div>

          <div
            class="relative h-auto transition-all duration-500 ease-in-out overflow-hidden"
          >
            <!-- Login Form -->
            <div
              id="loginForm"
              class="w-full transition-transform duration-500 ease-in-out transform translate-x-0 opacity-100"
            >
              <form class="space-y-4">
                <div>
                  <label
                    for="loginEmail"
                    class="block text-sm font-medium text-gray-700"
                    >Email</label
                  >
                  <input
                    type="email"
                    id="loginEmail"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                    required
                    placeholder="Enter your email"
                  />
                </div>
                <div>
                  <label
                    for="loginPassword"
                    class="block text-sm font-medium text-gray-700"
                    >Password</label
                  >
                  <input
                    type="password"
                    id="loginPassword"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                    required
                    placeholder="Enter your password"
                  />
                </div>
                <div class="flex items-center justify-between mb-2">
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    />
                    <span class="ml-2 text-sm text-gray-600">Remember me</span>
                  </label>
                  <a
                    href="#"
                    class="text-sm text-blue-600 hover:text-blue-800 transition-colors duration-300"
                    >Forgot password?</a
                  >
                </div>
                <button
                  type="submit"
                  class="w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition"
                >
                  Login
                </button>
              </form>
            </div>

            <!-- Signup Form -->
            <div
              id="signupForm"
              class="absolute w-full transition-transform duration-500 ease-in-out transform translate-x-full opacity-0"
            >
              <form class="space-y-4">
                <div>
                  <label
                    for="signupName"
                    class="block text-sm font-medium text-gray-700"
                    >Full Name</label
                  >
                  <input
                    type="text"
                    id="signupName"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                    required
                    placeholder="Enter your full name"
                  />
                </div>
                <div>
                  <label
                    for="signupEmail"
                    class="block text-sm font-medium text-gray-700"
                    >Email</label
                  >
                  <input
                    type="email"
                    id="signupEmail"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                    required
                    placeholder="Enter your email"
                  />
                </div>
                <div>
                  <label
                    for="signupPassword"
                    class="block text-sm font-medium text-gray-700"
                    >Password</label
                  >
                  <input
                    type="password"
                    id="signupPassword"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                    required
                    placeholder="Create a password"
                  />
                </div>
                <div class="flex items-center mb-2">
                  <input
                    type="checkbox"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="ml-2 text-sm text-gray-600"
                    >I agree to the Terms and Privacy Policy</span
                  >
                </div>
                <button
                  type="submit"
                  class="w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition"
                >
                  Create Account
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Search functionality
        const searchIcon = document.getElementById("search-icon");
        const searchOverlay = document.getElementById("searchOverlay");
        const searchBackdrop = document.getElementById("searchBackdrop");
        const searchContainer = document.getElementById("searchContainer");
        const closeSearch = document.getElementById("closeSearch");
        const searchInput = document.getElementById("searchInput");
        const searchSuggestions = document.getElementById("searchSuggestions");

        // Sample suggestions
        const sampleSuggestions = [
          "Popular Products",
          "New Arrivals",
          "Best Sellers",
          "Special Offers",
          "Trending Items",
          "Seasonal Collections",
        ];

        // Search Modal Functions
        searchIcon.addEventListener("click", function (e) {
          e.preventDefault();
          searchOverlay.classList.remove("hidden");
          requestAnimationFrame(() => {
            searchBackdrop.classList.add("opacity-50");
            searchContainer.classList.add("opacity-100", "scale-100");
            searchContainer.classList.remove("scale-95", "opacity-0");
          });
          searchInput.focus();
        });

        function closeSearchOverlay() {
          searchBackdrop.classList.remove("opacity-50");
          searchContainer.classList.remove("opacity-100", "scale-100");
          searchContainer.classList.add("scale-95", "opacity-0");

          setTimeout(() => {
            searchOverlay.classList.add("hidden");
            searchInput.value = "";
            searchSuggestions.classList.add("hidden");
          }, 200);
        }

        closeSearch.addEventListener("click", closeSearchOverlay);
        searchBackdrop.addEventListener("click", closeSearchOverlay);

        // Search suggestions functionality
        searchInput.addEventListener("input", function () {
          const searchTerm = this.value.toLowerCase();
          if (searchTerm.length > 0) {
            const filteredSuggestions = sampleSuggestions.filter((suggestion) =>
              suggestion.toLowerCase().includes(searchTerm)
            );
            displaySuggestions(filteredSuggestions);
          } else {
            searchSuggestions.classList.add("hidden");
          }
        });

        function displaySuggestions(suggestions) {
          if (suggestions.length > 0) {
            searchSuggestions.innerHTML = suggestions
              .map(
                (suggestion) => `
                            <div class="px-4 py-3 hover:bg-gray-100 cursor-pointer transition-colors duration-200 border-b border-gray-100 last:border-0">
                                ${suggestion}
                            </div>
                        `
              )
              .join("");
            searchSuggestions.classList.remove("hidden");
          } else {
            searchSuggestions.classList.add("hidden");
          }
        }

        // Auth functionality
        const userIcon = document.getElementById("userIcon");
        const authModal = document.getElementById("authModal");
        const authBackdrop = document.getElementById("authBackdrop");
        const authContainer = document.getElementById("authContainer");
        const loginBtn = document.getElementById("loginBtn");
        const signupBtn = document.getElementById("signupBtn");
        const loginForm = document.getElementById("loginForm");
        const signupForm = document.getElementById("signupForm");

        userIcon.addEventListener("click", function (e) {
          e.preventDefault();
          authModal.classList.remove("hidden");
          requestAnimationFrame(() => {
            authBackdrop.classList.add("opacity-50");
            authContainer.classList.add("opacity-100", "scale-100");
            authContainer.classList.remove("scale-95", "opacity-0");
          });
        });

        function closeAuthModal() {
          authBackdrop.classList.remove("opacity-50");
          authContainer.classList.remove("opacity-100", "scale-100");
          authContainer.classList.add("scale-95", "opacity-0");

          setTimeout(() => {
            authModal.classList.add("hidden");
          }, 200);
        }

        authBackdrop.addEventListener("click", closeAuthModal);

        // Login/Signup toggle
        loginBtn.addEventListener("click", () => {
          loginForm.classList.remove("-translate-x-full");
          loginForm.classList.add("translate-x-0");
          loginForm.classList.remove("opacity-0");
          loginForm.classList.add("opacity-100");
          loginForm.classList.remove("absolute");

          signupForm.classList.remove("translate-x-0");
          signupForm.classList.add("translate-x-full");
          signupForm.classList.remove("opacity-100");
          signupForm.classList.add("opacity-0");
          signupForm.classList.add("absolute");

          loginBtn.classList.add(
            "border-b-2",
            "border-blue-600",
            "text-blue-600"
          );
          signupBtn.classList.remove(
            "border-b-2",
            "border-blue-600",
            "text-blue-600"
          );
          signupBtn.classList.add("text-gray-400");
        });

        signupBtn.addEventListener("click", () => {
          loginForm.classList.remove("translate-x-0");
          loginForm.classList.add("-translate-x-full");
          loginForm.classList.remove("opacity-100");
          loginForm.classList.add("opacity-0");
          loginForm.classList.add("absolute");

          signupForm.classList.remove("translate-x-full");
          signupForm.classList.add("translate-x-0");
          signupForm.classList.remove("opacity-0");
          signupForm.classList.add("opacity-100");
          signupForm.classList.remove("absolute");

          signupBtn.classList.add(
            "border-b-2",
            "border-blue-600",
            "text-blue-600"
          );
          loginBtn.classList.remove(
            "border-b-2",
            "border-blue-600",
            "text-blue-600"
          );
          loginBtn.classList.add("text-gray-400");
        });

        // Handle escape key for both modals
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            if (!searchOverlay.classList.contains("hidden")) {
              closeSearchOverlay();
            }
            if (!authModal.classList.contains("hidden")) {
              closeAuthModal();
            }
          }
        });

        // Form submission handlers
        document
          .querySelector("#loginForm form")
          .addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;
            console.log(
              `Login Attempt: Email: ${email}, Password: ${password}`
            );
          });

        document
          .querySelector("#signupForm form")
          .addEventListener("submit", (e) => {
            e.preventDefault();
            const name = document.getElementById("signupName").value;
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;
            console.log(
              `Signup Attempt: Name: ${name}, Email: ${email}, Password: ${password}`
            );
          });
      });
    </script>
  </body>
</html>
